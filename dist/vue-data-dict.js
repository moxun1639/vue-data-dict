/*!
 * vue-data-dict v1.0.6
 * Â© 2020-2021 Moxun<mxnstrive@gmail.com><mxnstrive@gmail.com>
 * Released under the Apache-2.0 License.
 */
this.VueDataDict=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){(function(t){!function(e){var n=function(t){return o(!0===t,!1,arguments)};function r(t,e){if("object"!==i(t))return e;for(var n in e)"object"===i(t[n])&&"object"===i(e[n])?t[n]=r(t[n],e[n]):t[n]=e[n];return t}function o(t,e,o){var a=o[0],c=o.length;(t||"object"!==i(a))&&(a={});for(var u=0;u<c;++u){var l=o[u];if("object"===i(l))for(var f in l)if("__proto__"!==f){var s=t?n.clone(l[f]):l[f];a[f]=e?r(a[f],s):s}}return a}function i(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}n.recursive=function(t){return o(!0===t,!0,arguments)},n.clone=function(t){var e,r,o=t,a=i(t);if("array"===a)for(o=[],r=t.length,e=0;e<r;++e)o[e]=n.clone(t[e]);else if("object"===a)for(e in o={},t)o[e]=n.clone(t[e]);return o},e?t.exports=n:window.merge=n}(t&&"object"==typeof t.exports&&t.exports)}).call(this,n(2)(t))},function(t,e){!function(){t.exports=this.Vue}()},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i={metas:{"*":{request:function(t){return console.log("load dict ".concat(t.type)),Promise.resolve([])},responseConverter:function(t,e){var n=t.content instanceof Array?t.content:t;if(void 0===n)return console.warn('no dict data of "'.concat(e.type,'" found in the response')),[];return n.map((function(t){return f(t,e)}))},labelField:"label",valueField:"value"}},DEFAULT_LABEL_FIELDS:["label","name","title"],DEFAULT_VALUE_FIELDS:["value","id","uid","key"]};var a=i;var c=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.label=e,this.value=n,this.raw=r};function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f=function(t,e){var n=s.apply(void 0,[t,e.labelField].concat(u(a.DEFAULT_LABEL_FIELDS))),r=s.apply(void 0,[t,e.valueField].concat(u(a.DEFAULT_VALUE_FIELDS)));return new c(t[n],t[r],t)};function s(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.find((function(e){return Object.prototype.hasOwnProperty.call(t,e)}))}var d=n(1),p=n.n(d);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e.type,this.request=e.request,this.responseConverter=e.responseConverter,this.labelField=e.labelField,this.valueField=e.valueField,this.lazy=!0===e.lazy};function b(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}v.parse=function(t){var e=null;return"string"==typeof t?(e=a.metas[t]||{}).type=t:"object"===y(t)&&(e=t),e=o.a.recursive(!0,a.metas["*"],e),new v(e)};var w={types:[]},g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.owner=null,this.label={},this.dict={}}var e,n,r;return e=t,(n=[{key:"init",value:function(t){var e=this;t instanceof Array&&(t={types:t});var n=o.a.recursive({},w,t);if(void 0===n.types)throw new Error("need dict types");var r=[];return this._dictMetas=n.types.map((function(t){return v.parse(t)})),this._dictMetas.forEach((function(t){var n=t.type;p.a.set(e.label,n,{}),p.a.set(e.dict,n,[]),t.lazy||r.push(A(e,t))})),Promise.all(r)}},{key:"reloadDict",value:function(t){var e=this._dictMetas.find((function(e){return e.type===t}));return void 0===e?Promise.reject("the dict meta of ".concat(t," was not found")):A(this,e)}}])&&m(e.prototype,n),r&&m(e,r),t}();function A(t,e){return e.request(e).then((function(n){var r,o=e.type,i=e.responseConverter(n,e);return i instanceof Array?i.filter((function(t){return t instanceof c})).length!==i.length&&(console.error("the type of elements in dicts must be DictData"),i=[]):(console.error("the return of responseConverter must be Array.<DictData>"),i=[]),(r=t.dict[o]).splice.apply(r,[0,Number.MAX_SAFE_INTEGER].concat(b(i))),i.forEach((function(e){p.a.set(t.label[o],e.value,e.label)})),i}))}e.default={name:"vue-data-dict",DictConverter:f,install:function(t,e){var n;n=e,o.a.recursive(i,n),t.mixin({data:function(){if(void 0===this.$options.dicts||null===this.$options.dicts)return{};var t=new g;return t.owner=this,{dict:t}},created:function(){var t=this;this.dict instanceof g&&(e.onCreated&&e.onCreated(this.dict),this.dict.init(this.$options.dicts).then((function(){e.onReady&&e.onReady(t.dict),t.$nextTick((function(){t.$emit("dictReady",t.dict),t.$options.methods&&t.$options.methods.onDictReady instanceof Function&&t.$options.methods.onDictReady.call(t,t.dict)}))})))}})}}}]).default;